@using Microsoft.AspNetCore.Http;
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "ElencoUtenti";
    Layout = "_Layout";
}
@model List<GranBazar.Models.Utente>

<div class="container" style="margin-top:50px;">
    <table id="cart" class="table table-hover table-condensed">
        <thead>
            <tr>
                <th style="width:60%">Email</th>
                <th style="width:30%">Ruolo</th>       
                <th style="width:10%">Aggiorna</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Count; i++)
            {
                <form method="get" action="/Admin/ElencoUtenti">
                    <tr>
                        <input type="hidden" value="@Model.ElementAt(i).Email" name="email" id="email" />
                        <td>@Model.ElementAt(i).Email</td>
                        <td><select name="ruolo">
                            @if(Model.ElementAt(i).Ruolo.Equals("Admin"))
                            {
                                <option value="Admin" selected>Admin</option>
                                <option value="User">User</option>
                            }
                            else
                            {
                                <option value="Admin">Admin</option>
                                <option value="User"selected>User</option>
                            }
                        </select></td>
                        <td><button class="btn btn-info btn-sm" type="submit"><i class="fa fa-refresh"></i></button></td>

                    </tr>
                </form>
            }
        </tbody>
    </table>
</div>
